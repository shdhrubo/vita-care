<section class="py-24 bg-white relative overflow-hidden">
  <!-- Decorative Blob -->
  <div
    class="absolute top-0 right-0 w-125 h-125 bg-primary/5 rounded-full blur-[100px] pointer-events-none translate-x-1/3 -translate-y-1/3"
  ></div>

  <div class="max-w-350 mx-auto px-4 relative z-10">
    <!-- Header and Controls -->
    <div class="flex flex-col md:flex-row justify-between items-end mb-16 gap-8">
      <div class="space-y-4 max-w-2xl animate-in fade-in slide-in-from-bottom-4 duration-700">
        <span
          class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary text-xs font-bold tracking-wider uppercase"
        >
          Testimonials
        </span>
        <h2 class="text-4xl md:text-5xl font-bold text-gray-900 tracking-tight">
          What Our Patients Say
        </h2>
        <p class="text-lg text-gray-500">
          Real stories from people who trust VitaCare for their health journey.
        </p>
      </div>

      <!-- Arrow Controls -->
      <div class="flex gap-3 animate-in fade-in slide-in-from-right-4 duration-700 delay-200">
        <button
          (click)="scroll('left')"
          class="testimonial-button"
          aria-label="Previous slide"
        >
          <mat-icon
            svgIcon="platform_solid:chevron-down"
            class="rotate-90 transition-transform group-hover:scale-110 group-active:scale-95"
          ></mat-icon>
        </button>
        <button
          (click)="scroll('right')"
          class="testimonial-button"
          aria-label="Next slide"
        >
          <mat-icon
            svgIcon="platform_solid:chevron-down"
            class="-rotate-90 transition-transform group-hover:scale-110 group-active:scale-95"
          ></mat-icon>
        </button>
      </div>
    </div>

    <!-- Slider Track -->
    <div
      #scrollContainer
      class="flex gap-6 overflow-x-auto snap-x snap-mandatory no-scrollbar pb-12 -mx-4 px-4 md:mx-0 md:px-0 scroll-smooth"
    >
      @for (item of testimonials; track $index) {
      <div class="snap-start shrink-0 w-full md:w-[calc(50%-12px)] lg:w-[calc(33.333%-16px)]">
        <app-testimonial-card [item]="item" class="h-full block"></app-testimonial-card>
      </div>
      }
    </div>
  </div>
</section>
